<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login and Sign-up Page</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="/stylesheets/login.css" />
  </head>
  <body>
    <% if(error.length > 0) { %>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <strong> <%= error %> </strong>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    <% } %> <% if(messages.length>0) { %>
    <div class="alert alert-success alert-dismissible fade show" role="alert">
      <strong>
        Registration successful! You're all set to log in now.
      </strong>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    <% } %>
    <div class="main-box">
      <div class="slider-cont">
        <div class="signup-slider">
          <div class="img-txt">
            <div class="img-layer"></div>
            <h1>
              "The doctor sees all the weakness of mankind, the lawyer all the
              wickedness, the theologian all the stupidity."
            </h1>
            <img
              src="https://plus.unsplash.com/premium_photo-1673953509975-576678fa6710?q=80&w=1000&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8ZG9jdG9yfGVufDB8fDB8fHww"
            />
          </div>
          <div class="img-txt">
            <div class="img-layer"></div>
            <h1>
              "Wherever the art of Medicine is loved, there is also a love of
              Humanity.".
            </h1>
            <img
              src="https://www.businessinsider.in/photo/69795001/how-to-become-a-doctor.jpg?imgsize=137197"
            />
          </div>
          <div class="img-txt">
            <div class="img-layer"></div>
            <h1>Join US Now!</h1>
            <img
              src="https://st.depositphotos.com/1518767/2411/i/950/depositphotos_24117303-stock-photo-doctor-and-his-team-smiling.jpg"
            />
          </div>
        </div>
      </div>
      <div class="form-cont">
        <div class="top-buttons">
          <button class="to-signup top-active-button">Sign Up</button>
          <button class="to-signin">Sign In</button>
        </div>
        <div class="form form-signup">
          <form action="/register" id="signupForm" method="post">
            <label style="color: grey">Name</label>
            <input name="name" type="text" placeholder="Your name" required />
            <label style="color: grey">User Name</label>
            <input
              name="username"
              type="text"
              placeholder="Your username"
              required
            />
            <label style="color: grey">Email</label>
            <input
              name="email"
              type="email"
              placeholder="Your e-mail"
              required
            />
            <label style="color: grey">Address</label>
            <input
              name="address"
              type="text"
              placeholder="Your address"
              required
            />
            <label style="color: grey">Date of Birth</label>
            <input
              name="dob"
              type="date"
              placeholder="Your Date of Birth"
              required
            />
            <label style="color: grey">Phone No.</label>
            <input
              name="number"
              type="text"
              placeholder="Your Phone No."
              required
            />

            <label style="color: grey">PASSWORD</label>
            <input
              name="password"
              type="password"
              placeholder="Your password"
              required
            />
            <span style="color: grey">ARE YOU A DOCTOR OR A PATIENT? </span>
            <label
              class="container"
              for="doctor"
              style="color: grey; margin-top: 14px"
            >
              Doctor
              <input type="radio" id="doctor" name="user_type" value="doctor" />
              <span class="checkmark"></span>
            </label>
            <label class="container" for="patient" style="color: grey">
              Patient
              <input
                type="radio"
                id="patient"
                name="user_type"
                value="patient"
              />
              <span class="checkmark"></span>
            </label>
            <span class="error-message" id="userTypeErrorMessage"></span>

            <input
              type="submit"
              class="form-btn lined-link"
              value="Sign-up"
              style="margin-top: 11px"
            />
          </form>
        </div>
        <div class="form form-signin">
          <form action="/signin" id="signinForm" method="post">
            <label style="color: grey">User Name</label>
            <input
              name="username"
              type="text"
              placeholder="Your username"
              required
            />
            <label style="color: grey">Password</label>
            <input
              name="password"
              type="password"
              placeholder="Your password"
              required
            />
            <input type="submit" class="form-btn lined-link" value="Sign-In" />
          </form>
        </div>
      </div>
      <div class="clear-fix"></div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.js"></script>
    <script>
      // JavaScript Code
      $(document).ready(function () {
        $(".signup-slider").slick({
          dots: true,
          arrows: false,
          autoplay: true,
          autoplaySpeed: 2000,
        });

        $("img").height($(".main-box").height());

        $(".to-signin").on("click", function () {
          $(this)
            .addClass("top-active-button")
            .siblings()
            .removeClass("top-active-button");
          $(".form-signup").slideUp(500);
          $(".form-signin").slideDown(500);
        });
        $(".to-signup").on("click", function () {
          $(this)
            .addClass("top-active-button")
            .siblings()
            .removeClass("top-active-button");
          $(".form-signin").slideUp(500);
          $(".form-signup").slideDown(500);
        });

        $("#signupForm").submit(function (e) {
          var userTypeCheckboxes = document.querySelectorAll(
            'input[name="user_type"]:checked'
          );

          if (userTypeCheckboxes.length !== 1) {
            e.preventDefault();
            $("#userTypeErrorMessage").text(
              "Please select only one option (Doctor or Patient)."
            );
            return;
          }
        });

        $("#signupForm").submit(function (e) {
          var userTypeCheckboxes = document.querySelectorAll(
            'input[name="user_type"]'
          );
          var userTypeCheckedCount = Array.from(userTypeCheckboxes).filter(
            (checkbox) => checkbox.checked
          ).length;

          if (userTypeCheckedCount !== 1) {
            e.preventDefault();
            $("#userTypeErrorMessage").text(
              "Please select only one option (Doctor or Patient)."
            );
            return;
          }
        });
      });
    </script>
  </body>
</html>
